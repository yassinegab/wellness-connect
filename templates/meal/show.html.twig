{% extends 'admin/base.html.twig' %}

{% block title %}Meal{% endblock %}

{% block body %}
<div class="max-w-3xl mx-auto mt-12">

    <!-- Card Container -->
    <div class="bg-white shadow-2xl rounded-2xl overflow-hidden border border-gray-200">

        <!-- Meal Image -->
        {% if meal.imageName %}
            <img src="{{ asset('uploads/meals/' ~ meal.imageName) }}" alt="Meal Image" class="w-full h-64 object-cover">
        {% else %}
            <div class="w-full h-64 flex items-center justify-center bg-gray-100 text-gray-400 font-semibold text-xl">
                No Image
            </div>
        {% endif %}

        <!-- Card Body -->
        <h2 class="text-3xl font-bold text-gray-800 mb-4">
    {{ meal.description[:50] ~ (meal.description|length > 50 ? '...' : '') }}
</h2>


            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                <div>
                    <span class="text-gray-500 font-semibold">ID</span>
                    <p class="text-gray-800">{{ meal.id }}</p>
                </div>
                <div>
                    <span class="text-gray-500 font-semibold">Created At</span>
                    <p class="text-gray-800">{{ meal.createAt ? meal.createAt|date('Y-m-d H:i:s') : 'N/A' }}</p>
                </div>
                <div class="sm:col-span-2">
                    <span class="text-gray-500 font-semibold">AI Analysis</span>
                    <p class="text-gray-800">{{ meal.aiAnalysis ?: 'N/A' }}</p>
                </div>
            </div>

            <!-- Buttons -->
            <!-- Buttons -->
<div class="flex flex-col sm:flex-row gap-4 mt-6">

    <!-- Back button -->
    <a href="{{ path('app_meal_index') }}" 
       class="flex-1 text-center px-6 py-3 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow hover:bg-gray-400 hover:scale-105 transform transition">
        Back to list
    </a>

    <!-- Edit button -->
    <a href="{{ path('app_meal_edit', {'id': meal.id}) }}" 
       class="flex-1 text-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 hover:scale-105 transform transition">
        Edit
    </a>

    <!-- Delete button -->
    {{ include('meal/_delete_form.html.twig', {
        'attr': {
            'class': 'flex-1 text-center px-6 py-3 bg-red-600 text-white font-semibold rounded-lg shadow hover:bg-red-700 hover:scale-105 transform transition cursor-pointer'
        }
    }) }}
</div>

        </div>

    </div>
</div>
{% endblock %}
